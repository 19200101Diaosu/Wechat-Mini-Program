(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/live-play/live-play"],{"02ea":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={name:"live-play",props:{detail:Object},data:function(){return{scrollH:500,videoContext:null,danmuList:[],scrollInto:"",currentTime:0}},created:function(){var n=t.getSystemInfoSync();this.scrollH=n.windowHeight-t.upx2px(420)-50,this.getData()},beforeDestroy:function(){},methods:{getData:function(){this.$api.getLiveComment({page:1,limit:500,live_id:this.detail.id}).then((function(t){}))},initH5Video:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n=n.map((function(t){return{duration:5e3,id:t.id,start:t.time,txt:"".concat(t.name,": ").concat(t.content),style:{color:t.color,borderRadius:"50px",padding:"5px 5px",backgroundColor:"rgba(255, 255, 255, 0.1)"}}})),console.log(n),this.videoContext=new FlvPlayer({id:"video",url:this.detail.playUrl,isLive:!0,playsinline:!0,height:t.upx2px(420),width:window.innerWidth,danmu:{panel:!0,comments:n,area:{start:0,end:1},closeDefaultBtn:!1,defaultOff:!1}}),this.videoContext.on("timeupdate",this.handleTimeUpdate)},handleTimeUpdate:function(t){this.currentTime=t.currentTime},openComment:function(){this.$refs.comment.open()},sendComment:function(n){var e=this;if(""==n)return this.$toast("弹幕内容不能为空");t.showLoading({title:"发送中...",mask:!1}),this.$api.sendLiveComment({live_id:this.detail.id,content:n,time:parseInt(1e3*this.currentTime),color:this.getRandomColor()}).then((function(t){e.danmuList.push(t),setTimeout((function(){e.scrollInto="live_"+t.id}),300),console.log(t)})).finally((function(){t.hideLoading()}))},getRandomColor:function(){for(var t=[],n=0;n<3;++n){var e=Math.floor(256*Math.random()).toString(16);e=1==e.length?"0"+e:e,t.push(e)}return"#"+t.join("")}}};n.default=e}).call(this,e("543d")["default"])},"4e7d":function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i}));var i={commentPopup:function(){return e.e("components/comment-popup/comment-popup").then(e.bind(null,"6803"))}},o=function(){var t=this,n=t.$createElement;t._self._c},a=[]},"4f4b":function(t,n,e){"use strict";e.r(n);var i=e("4e7d"),o=e("f0ac");for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);var r,l=e("f0c5"),u=Object(l["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);n["default"]=u.exports},f0ac:function(t,n,e){"use strict";e.r(n);var i=e("02ea"),o=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=o.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/live-play/live-play-create-component',
    {
        'components/live-play/live-play-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("4f4b"))
        })
    },
    [['components/live-play/live-play-create-component']]
]);
